<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
    <link href="styles.css?v=1" rel="stylesheet">
    <title>Cart - Petit Friend</title>
</head>
<body class="d-flex flex-column min-vh-100">

<nav class="navbar navbar-expand-lg navbar-light bg-white border-bottom sticky-top">
  <div class="container">
    <a class="navbar-brand d-flex align-items-center gap-2 fw-bold" href="index.html">
        <img src="logo.png" style="width:50px; height:50px; object-fit:cover; border-radius:20%;">
        Petit Friend
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#nav"><span class="navbar-toggler-icon"></span></button>
    <div class="collapse navbar-collapse" id="nav">
      <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
        <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
        <li class="nav-item"><a class="nav-link" href="shop.html">Products</a></li>
        <li class="nav-item"><a class="nav-link" href="about.html">About Us</a></li>
        <li class="nav-item"><a class="nav-link" href="contact.html">Contact</a></li>
        <li class="nav-item"><a class="nav-link" href="profile.html"><i class="bi bi-person-circle"></i> Profile</a></li>
        <li class="nav-item">
          <button class="btn btn-sm btn-outline-secondary ms-lg-3" id="theme-toggle">
            <i class="bi bi-moon"></i>
          </button>
        </li>
        <li class="nav-item"><a class="btn btn-sm btn-primary ms-lg-3" href="cart.html"><i class="bi bi-bag"></i> Cart <span class="cart-count badge bg-light text-dark ms-1">0</span></a></li>
      </ul>
    </div>
  </div>
</nav>

<section class="container py-4">
  <h2>Your Cart</h2>
  <div class="row g-4">
    <div class="col-lg-8"><div id="cart-items" class="vstack gap-3"></div></div>
    <div class="col-lg-4">
      <div class="card">
        <div class="card-body">
          <div class="d-flex justify-content-between"><span>Subtotal</span><span id="subtotal" class="fw-bold">0 ₸</span></div>
          <div class="d-flex justify-content-between"><span>Shipping</span><span id="shipping-cost" class="fw-bold">0 ₸</span></div>
          <hr>
          <div class="d-flex justify-content-between fs-5"><span>Total</span><span id="total" class="fw-bold">0 ₸</span></div>
          <button class="btn btn-primary w-100 mt-3" data-bs-toggle="modal" data-bs-target="#checkout">Proceed to Checkout</button>
        </div>
      </div>
    </div>
  </div>
</section>

<div class="modal fade" id="checkout" tabindex="-1">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Checkout</h5>
        <button class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <div class="row">
            <div class="col-md-7">
                <form id="checkout-form" novalidate>
                    <h6 class="mb-3">Shipping Method</h6>
                    <div class="d-flex gap-4 mb-3">
                        <div class="form-check"><input class="form-check-input" type="radio" name="shippingOption" id="shipping-pickup" value="pickup" checked><label class="form-check-label" for="shipping-pickup">Pickup</label></div>
                        <div class="form-check"><input class="form-check-input" type="radio" name="shippingOption" id="shipping-delivery" value="delivery"><label class="form-check-label" for="shipping-delivery">Delivery</label></div>
                    </div>
                    <div id="pickup-info" class="alert alert-info"><p class="mb-0">You can pick up your order at: <br><strong>Kazakhstan, Astana, Mangilik El 54</strong></p></div>
                    <div id="delivery-address-form" style="display: none;">
                        <div class="row"><div class="col-md-6 mb-3"><label class="form-label">Country</label><input type="text" class="form-control" id="country" list="countries-list" placeholder="Start typing..."><datalist id="countries-list"></datalist><div class="invalid-feedback">Please select a country.</div></div><div class="col-md-6 mb-3"><label class="form-label">City</label><input type="text" class="form-control" id="city" list="cities-list" placeholder="Start typing..."><datalist id="cities-list"></datalist><div class="invalid-feedback">Please select a city.</div></div></div>
                        <div class="mb-3"><label class="form-label">Street & House</label><input type="text" class="form-control" id="street" placeholder="e.g., Satpaev St, 123"><div class="invalid-feedback">Please enter your street and house number.</div></div>
                    </div>
                    <hr class="my-4">
                    <h6 class="mb-3">Payment Details</h6>
                    <div class="mb-3"><label class="form-label">Full Name</label><input type="text" class="form-control" id="fullName" placeholder="John Doe" required><div class="invalid-feedback">Please enter your full name.</div></div>
                    <div class="mb-3"><label class="form-label">Email Address</label><input type="email" class="form-control" id="email" placeholder="you@example.com" required><div class="invalid-feedback">Please enter a valid email address.</div></div>
                    <div class="mb-3"><label class="form-label">Card Number</label><input type="text" class="form-control" id="cardNumber" placeholder="1111-2222-3333-4444" required pattern="\d{4}-\d{4}-\d{4}-\d{4}"><div class="invalid-feedback">Please enter a valid card number.</div></div>
                    <div class="row"><div class="col-md-8 mb-3"><label class="form-label">Expiration Date</label><input type="text" class="form-control" id="cardExpiry" placeholder="MM/YY" required pattern="(0[1-9]|1[0-2])\/\d{2}"><div class="invalid-feedback">Enter a valid expiration date (MM/YY).</div></div><div class="col-md-4 mb-3"><label class="form-label">CVC</label><input type="text" class="form-control" id="cardCvc" placeholder="123" required pattern="\d{3,4}"><div class="invalid-feedback">Enter the CVC.</div></div></div>
                </form>
            </div>
            <div class="col-md-5">
                <div class="card bg-body-tertiary">
                    <div class="card-body">
                        <h5 class="card-title mb-3">Order Summary</h5>
                        <div class="input-group mb-3">
                            <input type="text" id="promo-code-input" class="form-control" placeholder="Promocode">
                            <button class="btn btn-outline-secondary" type="button" id="apply-promo-btn">Apply</button>
                        </div>
                        <div id="promo-feedback" class="form-text mb-3"></div>
                        <hr>
                        <ul class="list-group list-group-flush">
                            <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent px-0">Products <span id="summary-subtotal">0 ₸</span></li>
                            <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent px-0">Discount <span id="summary-discount">0 ₸</span></li>
                            <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent px-0">Shipping <span id="summary-shipping">0 ₸</span></li>
                            <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent px-0">VAT (12%) <span id="summary-vat">0 ₸</span></li>
                            <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent px-0" id="donation-summary-row" style="display: none;">Donation <span id="summary-donation">0 ₸</span></li>
                            <li class="list-group-item d-flex justify-content-between align-items-center bg-transparent px-0 fs-5 fw-bold border-top pt-2">Total <span id="summary-total">0 ₸</span></li>
                        </ul>
                        <hr>
                        <div class="form-check mt-3">
                            <input class="form-check-input" type="checkbox" value="" id="donation-checkbox">
                            <label class="form-check-label" for="donation-checkbox">Donate to animal shelter</label>
                        </div>
                        <div class="input-group mt-2" id="donation-input-group" style="display: none;">
                            <span class="input-group-text">₸</span>
                            <input type="number" class="form-control" id="donation-amount" placeholder="Amount" min="100" step="100">
                        </div>
                        <div id="delivery-policy" class="alert alert-secondary mt-4 small" style="display:none;">
                            <strong>Delivery Policy:</strong><br>
                            - Standard delivery: 2-5 days.<br>
                            - 1-3 day delay: Free delivery.<br>
                            - 4-10 day delay: Refund of 1500 ₸ shipping fee.<br>
                            - 10+ day delay: Full refund or wait with a 50% coupon for your next purchase.
                        </div>
                    </div>
                </div>
            </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
        <button id="submit-order" class="btn btn-primary">Pay <span id="footer-total">0 ₸</span></button>
      </div>
    </div>
  </div>
</div>

<div id="toast" class="toast align-items-center text-bg-success position-fixed bottom-0 end-0 m-3"><div class="d-flex"><div class="toast-body"></div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button></div></div>
<footer class="mt-5 border-top py-4"><div class="container d-flex flex-column flex-md-row justify-content-between align-items-center gap-2"><div class="small text-muted">© 2025 Petit Friend · All rights reserved</div><div class="d-flex gap-3 small"><a href="about.html" class="link-secondary">About</a><a href="shop.html" class="link-secondary">Catalog</a><a href="contact.html" class="link-secondary">Support</a></div></div></footer>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
<script src="app.js"></script>

</body>
</html>